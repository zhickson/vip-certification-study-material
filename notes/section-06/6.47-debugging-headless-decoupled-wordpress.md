# 6.47 Debugging Headless/Decoupled WordPress - Study Notes

## Overview

Debugging API-driven and headless architectures involves tracing data flow between WordPress and frontend frameworks, debugging CORS and authentication issues, and inspecting API payloads powering headless frontends.

**Key Reference:** [REST API - Section 1.2](../section-01/1.2-rest-api-usage-customization.md) | [Debugging REST API - Section 6.41](./6.41-debugging-rest-api-requests.md)

---

## 1. Tracing Data Flow Between WordPress and Frontend Frameworks

### API Requests

**Monitor Requests:**
- Browser DevTools Network panel
- Query Monitor HTTP panel
- APM tools
- Server logs

### Data Flow

**Trace:**
1. Frontend request
2. WordPress API
3. Database query
4. Response
5. Frontend rendering

---

## 2. Debugging CORS and Authentication Issues

### CORS Issues

**Symptoms:**
- Preflight failures
- Blocked requests
- CORS errors in console

**Fix:**
```php
add_filter( 'rest_pre_serve_request', function( $served, $result, $request, $server ) {
    header( 'Access-Control-Allow-Origin: *' );
    header( 'Access-Control-Allow-Methods: GET, POST, OPTIONS' );
    header( 'Access-Control-Allow-Headers: Content-Type, Authorization' );
    return $served;
}, 10, 4 );
```

### Authentication

**Check Auth:**
- Application passwords
- Bearer tokens
- Cookie authentication
- OAuth

---

## 3. Inspecting API Payloads Powering Headless Frontends

### Payload Inspection

**Browser DevTools:**
- Network panel
- View request/response
- Check payloads
- Validate JSON

### API Testing

**Tools:**
- Postman
- Insomnia
- cURL
- Browser DevTools

### Debug Payloads

**Check:**
- Request structure
- Response format
- Data accuracy
- Error messages

---

## Exam Tips

### Key Points to Remember

1. **Data Flow:**
   - Monitor requests
   - Trace execution
   - Check responses

2. **CORS/Auth:**
   - Fix CORS headers
   - Check authentication
   - Verify tokens

3. **Payloads:**
   - Inspect requests
   - Check responses
   - Validate data

---

## Additional Resources

- [REST API - Section 1.2](../section-01/1.2-rest-api-usage-customization.md)
- [Debugging REST API - Section 6.41](./6.41-debugging-rest-api-requests.md)
