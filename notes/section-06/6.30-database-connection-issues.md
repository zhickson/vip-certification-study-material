# 6.30 Database Connection Issues - Study Notes

## Overview

Troubleshooting database connection issues involves verifying credentials in wp-config.php, checking DB server availability, and debugging socket and timeout errors.

**Key Reference:** [Editing wp-config.php - WordPress Codex](https://wordpress.org/support/article/editing-wp-config-php/)

---

## 1. Verifying Credentials in wp-config.php

### Check Configuration

**wp-config.php:**
```php
define( 'DB_NAME', 'database_name' );
define( 'DB_USER', 'username' );
define( 'DB_PASSWORD', 'password' );
define( 'DB_HOST', 'localhost' );
```

**Common Issues:**
- Incorrect credentials
- Wrong database name
- Invalid host
- Missing quotes

---

## 2. Checking DB Server Availability

### Test Connection

**Command Line:**
```bash
mysql -h localhost -u username -p
```

**WP-CLI:**
```bash
wp db check
```

**PHP:**
```php
$link = mysqli_connect( 'localhost', 'user', 'pass', 'db' );
if ( ! $link ) {
    die( 'Connection failed: ' . mysqli_connect_error() );
}
```

---

## 3. Debugging Socket and Timeout Errors

### Socket Errors

**Common Issues:**
- Socket file not found
- Permission problems
- Wrong socket path

**Fix:**
```php
define( 'DB_HOST', 'localhost:/path/to/socket' );
```

### Timeout Errors

**Increase Timeout:**
```php
ini_set( 'mysql.connect_timeout', 300 );
```

---

## Exam Tips

### Key Points to Remember

1. **Credentials:**
   - Check wp-config.php
   - Verify all values
   - Test connection

2. **Availability:**
   - Test server connection
   - Check firewall
   - Verify permissions

3. **Errors:**
   - Socket issues
   - Timeout problems
   - Connection limits

---

## Additional Resources

- [Editing wp-config.php - WordPress Codex](https://wordpress.org/support/article/editing-wp-config-php/)
- [Database Connection Errors](https://wordpress.org/support/article/common-wordpress-errors/)
