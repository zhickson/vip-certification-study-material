# 5.4 Structuring and Conducting User Acceptance Testing (UAT) - Study Notes

## Overview

User Acceptance Testing (UAT) validates that features meet business requirements and work correctly from an end-user perspective. UAT focuses on complete workflows rather than individual components.

**Key Reference:** [Acceptance Testing - Wikipedia](https://en.wikipedia.org/wiki/Acceptance_testing)

---

## 1. Understanding User Acceptance Testing

### Purpose of UAT

- **Validate Business Requirements:** Ensure features meet stakeholder needs
- **User Perspective:** Test from end-user viewpoint
- **Workflow Validation:** Verify complete user journeys
- **Pre-Deployment Check:** Final validation before going live

### When to Conduct UAT

- After integration testing is complete
- Before production deployment
- When new features are added
- During major updates
- When business requirements change

### UAT vs Other Testing Types

| Aspect | Unit Tests | Integration Tests | UAT |
|--------|------------|-------------------|-----|
| **Perspective** | Developer | Developer | End User |
| **Scope** | Single function | Components | Complete workflows |
| **Focus** | Code correctness | Integration | Business requirements |
| **Executed By** | Developers | Developers | Users/Stakeholders |

---

## 2. Designing UAT Scenarios

### Business Logic Focus

UAT scenarios should reflect real business workflows:

```gherkin
# User Registration Scenario
Feature: User Registration
	As a site visitor
	I want to register for an account
	So that I can access member content

	Scenario: Successful registration
		Given I am on the registration page
		When I fill in "Username" with "newuser"
		And I fill in "Email" with "user@example.com"
		And I fill in "Password" with "securepass123"
		And I click "Register"
		Then I should see "Registration successful"
		And I should be logged in as "newuser"
		And I should be redirected to the dashboard

	Scenario: Registration with existing email
		Given a user with email "existing@example.com" exists
		When I attempt to register with email "existing@example.com"
		Then I should see "Email already registered"
		And I should not be logged in
```

### User Workflow Scenarios

```gherkin
# E-commerce Purchase Flow
Feature: Product Purchase
	As a customer
	I want to purchase a product
	So that I can receive the item

	Scenario: Complete purchase workflow
		Given I am logged in as a customer
		And I am viewing the product catalog
		When I click on "Product A"
		And I click "Add to Cart"
		And I proceed to checkout
		And I enter my shipping address
		And I select payment method "Credit Card"
		And I enter valid payment details
		And I click "Complete Purchase"
		Then I should see "Order Confirmation"
		And I should receive an order confirmation email
		And my order should appear in "My Orders"
```

---

## 3. Capturing User Behaviour in Scripts

### Test Scripts

Create detailed test scripts for users to follow:

```markdown
# UAT Script: User Registration

## Pre-conditions
- Browser: Chrome (latest version)
- Site URL: https://staging.example.com
- Test user: Not logged in

## Steps

### Step 1: Navigate to Registration
1. Open browser
2. Navigate to https://staging.example.com
3. Click "Register" link in header
4. **Expected:** Registration form is displayed

### Step 2: Fill Registration Form
1. Enter "testuser123" in Username field
2. Enter "testuser@example.com" in Email field
3. Enter "SecurePass123!" in Password field
4. Enter "SecurePass123!" in Confirm Password field
5. Check "I agree to terms" checkbox
6. **Expected:** All fields are filled correctly

### Step 3: Submit Registration
1. Click "Register" button
2. **Expected:** Success message appears
3. **Expected:** User is redirected to dashboard
4. **Expected:** User is logged in automatically

### Step 4: Verify Registration
1. Check email inbox for confirmation email
2. Click confirmation link in email
3. **Expected:** Email is verified
4. **Expected:** User can access member content

## Test Data
- Username: testuser123
- Email: testuser@example.com
- Password: SecurePass123!

## Notes
- If registration fails, note the error message
- Screenshot any issues encountered
```

### Checklist Format

```markdown
# UAT Checklist: Content Publishing

## Content Creation
- [ ] Can create new post
- [ ] Can add title
- [ ] Can add content
- [ ] Can add featured image
- [ ] Can add categories
- [ ] Can add tags
- [ ] Can preview post
- [ ] Can save draft

## Content Publishing
- [ ] Can publish post
- [ ] Published post appears on frontend
- [ ] Post appears in correct category
- [ ] Featured image displays correctly
- [ ] Post URL is correct
- [ ] Post is indexed by search

## Content Editing
- [ ] Can edit published post
- [ ] Changes save correctly
- [ ] Updated content appears on frontend
- [ ] Can unpublish post
- [ ] Unpublished post doesn't appear on frontend
```

---

## 4. Documenting Acceptance Criteria

### Clear Acceptance Criteria

```markdown
# Feature: User Profile Management

## Acceptance Criteria

### AC1: Profile Viewing
- **Given:** A logged-in user
- **When:** They navigate to their profile page
- **Then:** They should see:
  - Their username
  - Their email address
  - Their display name
  - Their avatar
  - Their bio (if set)
  - Their registration date

### AC2: Profile Editing
- **Given:** A logged-in user on their profile page
- **When:** They click "Edit Profile"
- **Then:** They should be able to edit:
  - Display name
  - Bio
  - Avatar
- **And:** Changes should save successfully
- **And:** Updated information should display immediately

### AC3: Email Change
- **Given:** A logged-in user editing their profile
- **When:** They change their email address
- **Then:** They should receive a confirmation email
- **And:** Email should not change until confirmed
- **And:** They should see a message explaining the confirmation process
```

### Definition of Done

```markdown
# Definition of Done for UAT

A feature is considered "Done" when:

1. **All Acceptance Criteria Met:**
   - All ACs from the feature specification are verified
   - No critical bugs remain
   - Minor bugs are documented and prioritized

2. **User Testing Complete:**
   - At least 2 users have tested the feature
   - All test scenarios have been executed
   - User feedback has been collected

3. **Documentation Updated:**
   - User documentation updated
   - Admin documentation updated (if applicable)
   - Known issues documented

4. **Stakeholder Approval:**
   - Product owner has approved
   - Business stakeholders have signed off
   - Ready for production deployment
```

---

## 5. Ensuring End-User Requirements Are Met

### Requirement Traceability

Link UAT scenarios to business requirements:

```markdown
# Requirement: REQ-001 - User Registration

## Business Requirement
Users must be able to register for accounts to access member content.

## UAT Scenarios
1. Successful registration (REQ-001-SC-001)
2. Registration with invalid email (REQ-001-SC-002)
3. Registration with existing username (REQ-001-SC-003)
4. Registration with weak password (REQ-001-SC-004)

## Test Results
- [x] REQ-001-SC-001: PASS
- [x] REQ-001-SC-002: PASS
- [x] REQ-001-SC-003: PASS
- [x] REQ-001-SC-004: PASS

## Status: COMPLETE
```

### User Story Validation

```markdown
# User Story: US-123

**As a** content editor
**I want to** schedule posts for future publication
**So that** I can prepare content in advance

## Acceptance Criteria
1. Can set future publication date
2. Post doesn't publish until scheduled date
3. Post publishes automatically at scheduled time
4. Can edit scheduled post before publication
5. Can cancel scheduled publication

## UAT Results
- [x] AC1: PASS - Can set future date
- [x] AC2: PASS - Post remains draft until date
- [x] AC3: PASS - Post publishes automatically
- [x] AC4: PASS - Can edit before publication
- [x] AC5: PASS - Can cancel publication

## User Feedback
"Works perfectly! Makes content planning much easier."

## Status: APPROVED
```

---

## 6. UAT Tools and Frameworks

### Behat (BDD Framework)

```php
// features/user_registration.feature
Feature: User Registration
	In order to access member content
	As a site visitor
	I need to be able to register for an account

	Scenario: Successful registration
		Given I am on "/register"
		When I fill in "username" with "newuser"
		And I fill in "email" with "user@example.com"
		And I fill in "password" with "securepass123"
		And I press "Register"
		Then I should see "Registration successful"
		And I should be logged in
```

### Codeception

```php
// tests/acceptance/UserRegistrationCest.php
class UserRegistrationCest {
	public function testSuccessfulRegistration( AcceptanceTester $I ) {
		$I->amOnPage( '/register' );
		$I->fillField( 'username', 'newuser' );
		$I->fillField( 'email', 'user@example.com' );
		$I->fillField( 'password', 'securepass123' );
		$I->click( 'Register' );
		$I->see( 'Registration successful' );
		$I->seeInDatabase( 'wp_users', array( 'user_login' => 'newuser' ) );
	}
}
```

### Manual Testing Templates

```markdown
# UAT Test Report Template

## Test Information
- **Feature:** User Registration
- **Tester:** John Doe
- **Date:** 2024-01-15
- **Environment:** Staging
- **Browser:** Chrome 120

## Test Results

### Scenario 1: Successful Registration
- **Status:** PASS
- **Notes:** Registration worked as expected
- **Screenshots:** registration-success.png

### Scenario 2: Invalid Email
- **Status:** PASS
- **Notes:** Error message displayed correctly
- **Screenshots:** registration-error.png

## Issues Found
1. **Issue:** Password strength indicator not visible
   - **Severity:** Low
   - **Status:** Documented

## Overall Result: PASS
```

---

## 7. Best Practices

### Involve Real Users

- Include actual end-users in UAT
- Get feedback from different user personas
- Test with users of varying technical skill

### Test in Production-Like Environment

- Use staging environment that mirrors production
- Include realistic test data
- Test with production-like data volumes

### Document Everything

- Record all test results
- Document issues with screenshots
- Keep feedback from users
- Maintain test history

### Iterative Testing

- Test early and often
- Conduct UAT after each major feature
- Don't wait until the end of development

---

## Exam Tips

### Key Points to Remember

1. **UAT Purpose:**
   - Validate business requirements
   - Test from user perspective
   - Verify complete workflows

2. **UAT Scenarios:**
   - Focus on business logic
   - Test complete user journeys
   - Cover happy paths and error cases

3. **Documentation:**
   - Clear acceptance criteria
   - Detailed test scripts
   - Requirement traceability

4. **Tools:**
   - Behat for BDD scenarios
   - Codeception for acceptance testing
   - Manual testing templates

5. **Best Practices:**
   - Involve real users
   - Test in production-like environment
   - Document everything
   - Iterative testing

---

## Additional Resources

- [Acceptance Testing - Wikipedia](https://en.wikipedia.org/wiki/Acceptance_testing)
- [Behat - BDD Framework](https://docs.behat.org/)
- [Codeception - PHP Testing Framework](https://codeception.com/)
- [User Acceptance Testing Best Practices](https://www.guru99.com/user-acceptance-testing.html)
