# 6.33 Counting and Classifying Tables - Study Notes

## Overview

Analyzing table counts and types in WordPress involves listing database tables by type, counting custom vs core tables, and identifying unused or orphaned tables.

**Key Reference:** [WP-CLI Database Commands](https://wp-cli.org/commands/db/)

---

## 1. Listing Database Tables by Type

### WordPress Core Tables

**Core Tables:**
- wp_posts
- wp_postmeta
- wp_users
- wp_usermeta
- wp_options
- wp_terms
- wp_term_taxonomy
- wp_term_relationships
- wp_comments
- wp_commentmeta

### Custom Tables

**Plugin/Theme Tables:**
- Usually prefixed with plugin name
- Created by plugins
- May be orphaned

---

## 2. Counting Custom vs Core Tables

### Count Tables

**SQL:**
```sql
SELECT COUNT(*) FROM information_schema.tables
WHERE table_schema = 'database_name';
```

**WP-CLI:**
```bash
wp db tables
```

**Count by Type:**
```sql
-- Core tables
SELECT COUNT(*) FROM information_schema.tables
WHERE table_schema = 'database_name'
AND table_name LIKE 'wp_%'
AND table_name NOT LIKE 'wp_%_%';

-- Custom tables
SELECT COUNT(*) FROM information_schema.tables
WHERE table_schema = 'database_name'
AND table_name LIKE 'wp_%_%';
```

---

## 3. Identifying Unused or Orphaned Tables

### Find Orphaned Tables

**Check Table Usage:**
```sql
-- Tables not in WordPress core
SELECT table_name
FROM information_schema.tables
WHERE table_schema = 'database_name'
AND table_name LIKE 'wp_%'
AND table_name NOT IN (
    'wp_posts', 'wp_postmeta', 'wp_users', ...
);
```

**Check if Empty:**
```sql
SELECT table_name, table_rows
FROM information_schema.tables
WHERE table_schema = 'database_name'
AND table_rows = 0;
```

---

## Exam Tips

### Key Points to Remember

1. **Table Types:**
   - Core WordPress tables
   - Custom plugin tables
   - Orphaned tables

2. **Counting:**
   - Use information_schema
   - WP-CLI commands
   - SQL queries

3. **Orphaned Tables:**
   - Check for unused tables
   - Verify if empty
   - Remove if safe

---

## Additional Resources

- [WP-CLI Database Commands](https://wp-cli.org/commands/db/)
- [MySQL information_schema](https://dev.mysql.com/doc/refman/8.0/en/information-schema.html)
