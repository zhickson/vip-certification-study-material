# 6.44 Debugging Server-Side HTTP Requests - Study Notes

## Overview

Debugging WordPress remote requests involves inspecting calls from wp_remote_get/wp_remote_post, diagnosing failures or latency, and applying caching to reduce impact.

**Key Reference:** [External HTTP Requests - Section 4.12](../section-04/4.12-external-http-requests.md) | [Query Monitor - Section 6.2](./6.2-query-monitor.md)

---

## 1. Inspecting Calls from wp_remote_get/wp_remote_post

### Query Monitor

**HTTP Requests Panel:**
- Lists all requests
- Shows URLs
- Displays timing
- Shows responses

### Log Requests

**Add Logging:**
```php
add_filter( 'http_request_args', function( $args, $url ) {
    error_log( 'HTTP Request: ' . $url );
    return $args;
}, 10, 2 );
```

---

## 2. Diagnosing Failures or Latency

### Check Responses

**Response Codes:**
- 200 = success
- 404 = not found
- 500 = server error
- Timeout = latency

### Debug Failures

**Common Issues:**
- Network problems
- SSL issues
- Timeout errors
- Invalid URLs

---

## 3. Applying Caching to Reduce Impact

### Cache Responses

**Use Transients:**
```php
$cache_key = 'api_response_' . md5( $url );
$cached = get_transient( $cache_key );

if ( false === $cached ) {
    $response = wp_remote_get( $url );
    $cached = wp_remote_retrieve_body( $response );
    set_transient( $cache_key, $cached, 3600 );
}
```

### Reduce Impact

**Benefits:**
- Faster responses
- Less server load
- Better reliability
- Reduced latency

---

## Exam Tips

### Key Points to Remember

1. **Inspection:**
   - Query Monitor
   - Logging
   - Response codes

2. **Diagnosis:**
   - Check responses
   - Identify failures
   - Debug latency

3. **Caching:**
   - Use transients
   - Cache responses
   - Reduce impact

---

## Additional Resources

- [External HTTP Requests - Section 4.12](../section-04/4.12-external-http-requests.md)
- [Query Monitor - Section 6.2](./6.2-query-monitor.md)
