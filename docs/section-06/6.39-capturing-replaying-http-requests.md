# 6.39 Capturing and Replaying HTTP Requests - Study Notes

## Overview

Reproducing API/AJAX bugs with captured requests involves capturing request payloads and headers, replaying with cURL and other tools, and comparing expected vs actual responses.

**Key Reference:** [cURL - Section 6.9](./6.9-curl.md) | [Graphical HTTP Clients - Section 6.10](./6.10-graphical-http-clients.md)

---

## 1. Capturing Request Payloads and Headers

### Browser DevTools

**Network Panel:**
- Record requests
- Copy as cURL
- Export HAR
- View headers/payloads

### Proxy Tools

**Charles/Burp:**
- Intercept requests
- Capture full requests
- Modify and replay
- Save for later

---

## 2. Replaying with cURL and Other Tools

### cURL Replay

**From Browser:**
```bash
# Copy as cURL from DevTools
curl 'https://example.com/wp-json/wp/v2/posts' \
  -H 'Authorization: Bearer token'
```

**Modify and Replay:**
```bash
# Change parameters
curl 'https://example.com/wp-json/wp/v2/posts?per_page=5'
```

### Postman/Insomnia

**Import:**
- Import from HAR
- Import cURL command
- Save collection
- Replay requests

---

## 3. Comparing Expected vs Actual Responses

### Response Comparison

**Expected:**
```json
{
  "status": "success",
  "data": {...}
}
```

**Actual:**
```json
{
  "status": "error",
  "message": "..."
}
```

### Debug Differences

**Identify Issues:**
- Compare status codes
- Compare payloads
- Check headers
- Find discrepancies

---

## Exam Tips

### Key Points to Remember

1. **Capturing:**
   - Browser DevTools
   - Proxy tools
   - Network recording

2. **Replaying:**
   - cURL commands
   - Postman/Insomnia
   - Modify parameters

3. **Comparison:**
   - Expected vs actual
   - Status codes
   - Payloads
   - Headers

---

## Additional Resources

- [cURL - Section 6.9](./6.9-curl.md)
- [Graphical HTTP Clients - Section 6.10](./6.10-graphical-http-clients.md)
